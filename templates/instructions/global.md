# 汎用的な指示書テンプレート

**注**: このファイルは Pi Dev Toolkit プロジェクトの一部です。Pi Dev Toolkit は、汎用的な開発環境を立ち上げるための設定シェルスクリプトとテンプレートをまとめたものです。

このファイルは、AI アシスタントに対する汎用的な開発ガイドラインを提供します。

## コーディング原則

### 1. コードの品質
- 可読性を最優先する
- DRY (Don't Repeat Yourself) 原則を守る
- 適切なコメントとドキュメントを記述

### 2. セキュリティ
- 機密情報をハードコードしない
- 環境変数を使用して設定を管理
- 入力値の検証を徹底

### 3. エラーハンドリング
- 適切なエラーメッセージを提供
- 例外を適切にキャッチして処理
- ログに十分な情報を含める

### 4. テスト
- 重要な機能にはテストを記述
- エッジケースを考慮
- テストの保守性を確保

## Git ワークフロー

### コミットメッセージ (Conventional Commits)

このプロジェクトでは **Conventional Commits** 形式を厳守してください。

#### 基本フォーマット

```
<type>: <description>

[optional body]

[optional footer]
```

#### Type（種類）

| Type | 説明 | バージョン影響 |
|:---|:---|:---|
| `feat:` | 新機能の追加 | Minor アップ |
| `fix:` | バグ修正 | Patch アップ |
| `docs:` | ドキュメントのみの変更 | なし |
| `style:` | コードの意味に影響しない変更（空白、フォーマットなど） | なし |
| `refactor:` | バグ修正や機能追加を含まないコード変更 | なし |
| `perf:` | パフォーマンス改善 | Patch アップ |
| `test:` | テストの追加や修正 | なし |
| `chore:` | ビルドプロセスや補助ツールの変更 | なし |
| `ci:` | CI設定ファイルやスクリプトの変更 | なし |

#### 破壊的変更

破壊的変更を含む場合は、フッターに `BREAKING CHANGE:` を記載するか、
type の後に `!` を付ける（例: `feat!:`, `fix!:`）。これにより Major バージョンが上がります。

#### 例

```
feat: ユーザー認証機能を追加

JWT トークンベースの認証システムを実装しました。

Closes #123
```

```
fix: ログイン時のセッションタイムアウトを修正
```

```
feat!: API エンドポイントの構造を変更

BREAKING CHANGE: /api/v1/users から /api/v2/users に変更
```

### ブランチ戦略
- main ブランチは常にデプロイ可能な状態に保つ
- 機能開発は feature ブランチで行う
- PR（Pull Request）ベースでの開発を推奨

## ドキュメンテーション

### README
- プロジェクトの概要を明確に記述
- セットアップ手順を詳細に説明
- 使用方法の例を提供

### 付記（リリーステスト用プレースホルダー）
- この行は Release Please の動作確認用の変更です。

### コメント
- 「なぜ」を説明する（「何を」ではなく）
- 複雑なロジックには説明を追加
- TODO コメントには期限や担当者を記載
