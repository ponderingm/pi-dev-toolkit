# Pi Dev Toolkit - プロジェクト思想

このプロジェクトは、**汎用的な開発環境を立ち上げるための設定シェルスクリプトとテンプレートをまとめたもの**です。

Raspberry Pi 4 上の Coolify を使用した、シンプルで保守可能な開発・デプロイワークフローを実現することを目的としています。

## コアコンセプト

### 1. シンプルさを追求
- Dockerfile を手動で書かない - Nixpacks による自動検出
- 複雑な設定を避け、規約に基づく開発を優先

### 2. 可搬性
- ローカル開発と本番環境で同じコンテナイメージを使用
- Docker Compose でローカル環境を再現可能に

### 3. ARM64 対応
- Raspberry Pi 4 (ARM64) でのネイティブ実行
- クロスプラットフォーム互換性の確保

### 4. クラウドレス哲学
- セルフホスティングによるコスト削減
- プライベートネットワーク (Tailscale) でのセキュアな運用

## デプロイメント戦略

```
開発 → コミット → プッシュ → 自動デプロイ
```

GitHub への push をトリガーに Coolify が自動的にビルド・デプロイを実行します。

## コミットメッセージのルール

このプロジェクトでは **Conventional Commits** 形式を採用しています。
コミットメッセージは以下のプレフィックスを使用してください：

| プレフィックス | 意味 | バージョン変動 | 例 |
|:---|:---|:---|:---|
| `feat:` | 新機能 | **Minor** (`1.0.0` → `1.1.0`) | `feat: 画像プレビュー機能を追加` |
| `fix:` | バグ修正 | **Patch** (`1.0.0` → `1.0.1`) | `fix: ログインエラーを修正` |
| `chore:` | 雑用・設定 | 変動なし | `chore: 依存ライブラリの更新` |
| `docs:` | ドキュメント | 変動なし | `docs: READMEの修正` |
| `BREAKING CHANGE:` | 破壊的変更 | **Major** (`1.0.0` → `2.0.0`) | (フッターに記載) |

### 重要事項

- コミットメッセージは必ず上記のプレフィックスで始める
- Continuous Releaseにより `main` ブランチへのマージ時に自動でバージョンタグとGitHub Releaseが作成される
- メジャーアップデートの際は、リリース後に GitHub Releases ページで説明を追記することを推奨

## プロジェクト固有の設定

### テンプレートファイルの同期

`.github/copilot-instructions.md` を更新したら、必ず `templates/.github/copilot-instructions.md` も同じ内容に更新してください。

これにより、新規プロジェクト作成時に最新のガイドラインが反映されます。

### シェル出力に関するルール

- セットアップスクリプトやシェル上に表示する文字列は、マルチバイト文字（日本語）を使用しないこと。
- 出力は ASCII の英語で記述する（例: `Setup complete!`, `Installing GitHub CLI...`）。
- ドキュメントやコードコメントは日本語で構わないが、端末出力は英語とする。
